# OLS and lasso

# OLS in 8 steps

Below is an example of ordinary least squares linear (OLS) regression that predicts age using the other variables as predictors. 

```{r}
# 1. Define Y response variable
Y_reg = pidd$age

# 2. Remove outcome variable from the X dataframe
X_reg = subset(pidd, select = -age)

# 3. Convert factors to indicators but will also add an extra constant column for estimating the intercept
X_reg = data.frame(model.matrix( ~ ., X_reg))

str(X_reg)

# 4. Remove the extra intercept column, we don't need to store it in our dataset
X_reg = X_reg[, -1]

str(X_reg)

# 5. Fit the regression model; lm() will automatically add a temporary intercept column
reg_fit = lm(Y_reg ~ ., data = X_reg)

# 6. View the output
summary(reg_fit) 

# 7. Predict outcome for the training data
reg_predicted = predict(reg_fit, X_reg)

# 8. Calculate mean-squared error
MSE_reg = mean((Y_reg - reg_predicted)^2)

MSE_reg
sqrt(MSE_reg) # RMSE
```

# Lasso